<style>
  /* --- Google Font Import --- */
  @import url("https://fonts.com/css2?family=Montserrat:wght@400;500;700;800&display=swap");

  /* --- CSS Variables --- */
  :root {
    --banner-min-height-desktop: 100px; /* Original desktop min-height */
    --banner-min-height-mobile: 85px; /* Reduced min-height for mobile */
    --banner-padding-desktop: 10px 40px; /* Original desktop padding */
    --banner-padding-mobile: 10px 15px; /* Reduced mobile padding */
  }

  /* --- Sticky Banner Styles --- */
  .sticky-banner {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    width: 100% !important;
    background-color: #2d2d2d !important;
    color: #f5f5f5 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: var(--banner-padding-desktop) !important; /* Use variable */
    box-sizing: border-box !important;
    z-index: 1000 !important;
    font-family: "Montserrat", sans-serif;
    box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.2);
    transition: transform 0.4s ease-in-out, opacity 0.4s ease;
    min-height: var(
      --banner-min-height-desktop
    ); /* Use variable for desktop min-height */
    height: auto; /* Allow height to adjust based on content */
  }

  .sticky-banner.hidden {
    transform: translateY(100%);
    opacity: 0;
    pointer-events: none;
  }

  .banner-content-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    width: 100%;
    max-width: 1200px;
  }

  .banner-text-group {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    flex-shrink: 0;
  }

  .flash-sale-title {
    font-size: 0.9rem;
    font-weight: 700;
    margin: 0;
    white-space: nowrap;
    line-height: 1.2;
    text-align: left;
  }

  .flash-sale-title span {
    color: #ff9800;
    font-size: 1.1rem;
    vertical-align: middle;
  }

  .discount-subtitle {
    font-size: 0.7rem;
    font-weight: 500;
    color: #bdbdbd;
    margin: 0;
    text-transform: uppercase;
    line-height: 1.2;
    text-align: left;
  }

  .timer {
    display: flex;
    align-items: center;
    gap: 15px;
    flex-shrink: 0;
  }

  .time-unit {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .time-box {
    background-color: transparent;
    color: #ffffff;
    font-size: 1.8rem; /* Default desktop size */
    font-weight: 800;
    line-height: 1;
    padding: 0;
    margin-bottom: 2px;
  }

  .time-label {
    font-size: 0.6rem;
    font-weight: 500;
    color: #bdbdbd;
    text-transform: uppercase;
  }

  .close-btn {
    position: absolute !important;
    left: 10px;
    top: 50% !important;
    transform: translateY(-50%) !important;
    background: none !important;
    border: none !important;
    color: #aaa !important;
    font-size: 24px !important;
    font-weight: bold;
    cursor: pointer;
    padding: 5px;
    transition: color 0.3s ease;
  }

  .close-btn:hover {
    color: #fff !important;
  }

  /* --- Responsive Adjustments --- */
  /* Tablet and larger phones */
  @media (max-width: 768px) {
    .sticky-banner {
      padding: var(
        --banner-padding-mobile
      ) !important; /* Use mobile padding variable */
      min-height: var(
        --banner-min-height-mobile
      ); /* Use mobile min-height variable */
      height: auto;
    }

    .banner-content-wrapper {
      flex-direction: column;
      gap: 15px;
    }

    .banner-text-group {
      align-items: center;
      text-align: center;
    }

    .flash-sale-title,
    .discount-subtitle {
      text-align: center;
      white-space: normal;
    }

    .time-box {
      font-size: 1.6rem; /* Slightly reduced from 1.8rem */
    }
  }

  /* Smaller phones */
  @media (max-width: 480px) {
    .sticky-banner {
      padding: 8px 10px 8px 40px !important; /* Adjusted padding for very small */
      min-height: 75px; /* Even smaller min-height for very small */
    }

    .flash-sale-title {
      font-size: 0.8rem;
    }

    .flash-sale-title span {
      font-size: 1rem;
    }

    .discount-subtitle {
      font-size: 0.65rem;
    }

    .timer {
      gap: 10px;
    }

    .time-box {
      font-size: 1.3rem; /* Reduced from 1.5rem */
    }

    .time-label {
      font-size: 0.55rem;
    }

    .close-btn {
      font-size: 20px !important;
      left: 5px;
    }
  }

  /* Even smaller screens (e.g., iPhone 5/SE, very narrow devices) */
  @media (max-width: 375px) {
    .sticky-banner {
      padding: 5px 8px 5px 35px !important; /* Further reduced padding */
      min-height: 65px; /* Further reduced min-height */
    }
    .flash-sale-title {
      font-size: 0.7rem; /* Further reduced */
    }
    .flash-sale-title span {
      font-size: 0.9rem;
    }
    .discount-subtitle {
      font-size: 0.55rem; /* Further reduced */
    }
    .time-box {
      font-size: 1.1rem; /* Further reduced */
    }
    .time-label {
      font-size: 0.45rem; /* Further reduced */
    }
    .timer {
      gap: 6px; /* Further reduced gap */
    }
    .close-btn {
      font-size: 16px !important; /* Further reduced */
      left: 3px;
    }
  }
</style>

<!-- HTML for the Sticky Countdown Banner -->
<div class="sticky-banner" id="sticky-sale-banner">
  <button class="close-btn" id="close-banner-btn" aria-label="Close Banner">
    ×
  </button>
  <div class="banner-content-wrapper">
    <div class="banner-text-group">
      <p class="flash-sale-title">
        <span>⚡</span> Flash Sale for Limited Time
      </p>
      <p class="discount-subtitle">UP to 20% off</p>
    </div>
    <div class="timer">
      <div class="time-unit">
        <div class="time-box" id="days">00</div>
        <span class="time-label">Days</span>
      </div>
      <div class="time-unit">
        <div class="time-box" id="hours">00</div>
        <span class="time-label">Hours</span>
      </div>
      <div class="time-unit">
        <div class="time-box" id="minutes">00</div>
        <span class="time-label">Minutes</span>
      </div>
      <div class="time-unit">
        <div class="time-box" id="seconds">00</div>
        <span class="time-label">Seconds</span>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript for Functionality -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const banner = document.getElementById("sticky-sale-banner");
    const closeBtn = document.getElementById("close-banner-btn");

    if (closeBtn && banner) {
      closeBtn.addEventListener("click", () => {
        banner.classList.add("hidden");
        // Optional: Store in localStorage to prevent showing again
        localStorage.setItem("stickyBannerClosed", "true");
      });

      // Optional: Check if banner was previously closed
      if (localStorage.getItem("stickyBannerClosed") === "true") {
        banner.classList.add("hidden");
      }
    }

    // --- Countdown Timer Logic ---

    // MODIFICATION: Set a specific end date for your sale here.
    // FORMAT: YYYY/MM/DD HH:MM:SS
    const saleEndDate = "2025/09/24 17:59:59"; // Example date

    // This line converts your date string into a timestamp the script can use.
    const countDownDate = new Date(saleEndDate).getTime();

    const daysElem = document.getElementById("days");
    const hoursElem = document.getElementById("hours");
    const minutesElem = document.getElementById("minutes");
    const secondsElem = document.getElementById("seconds");

    const countdownFunction = setInterval(function () {
      const now = new Date().getTime();
      const distance = countDownDate - now;

      if (distance < 0) {
        clearInterval(countdownFunction);
        const wrapper = document.querySelector(".banner-content-wrapper");
        if (wrapper) {
          wrapper.innerHTML =
            "<p class='flash-sale-title' style='text-align:center; width:100%;'>SALE EXPIRED</p>";
          wrapper.style.justifyContent = "center";
          wrapper.style.flexDirection = "row"; // Reset flex-direction if it was column
        }
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor(
        (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
      );
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      if (daysElem) daysElem.innerHTML = String(days).padStart(2, "0");
      if (hoursElem) hoursElem.innerHTML = String(hours).padStart(2, "0");
      if (minutesElem) minutesElem.innerHTML = String(minutes).padStart(2, "0");
      if (secondsElem) secondsElem.innerHTML = String(seconds).padStart(2, "0");
    }, 1000);
  });
</script>
